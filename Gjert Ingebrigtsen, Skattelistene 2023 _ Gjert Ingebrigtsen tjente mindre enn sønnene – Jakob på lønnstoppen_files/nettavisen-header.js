var h=document.getElementById("page-header"),b=document.getElementsByClassName("logo-nav-wrap")[0],g=b.parentNode,r=h.cloneNode(!0);r.removeAttribute("id");var v=r.querySelector("#globalSearchField");v.setAttribute("id","globalSearchField-mini");var f=r.querySelector('label[for="globalSearchField"]');f.setAttribute("for","globalSearchField-mini");r.classList.add("miniheader");g.insertBefore(r,b);var E=document.querySelectorAll(".miniheader a, .miniheader button");E.forEach(e=>{e.setAttribute("tabindex","-1"),e.setAttribute("aria-hidden","true")});var c,o=0,S=20,m=800;window.addEventListener("scroll",()=>{c=!0});var x=()=>{let e=window.pageYOffset||0;Math.abs(o-e)<=S||(e>o?(document.querySelector(".miniheader").classList.remove("nav-down"),document.querySelector(".miniheader").classList.add("nav-up")):e>m&&(document.querySelector(".miniheader").classList.remove("nav-up"),document.querySelector(".miniheader").classList.add("nav-down")),o=e,e=window.pageYOffset||0,e<m&&(document.querySelector(".miniheader").classList.remove("nav-down"),document.querySelector(".miniheader").classList.add("nav-up")))};setInterval(()=>{c&&(x(),c=!1)},200);document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelectorAll(".global-menu-btn"),a=document.querySelectorAll(".menu-content a"),s=document.querySelectorAll(".menu-content button"),l=document.querySelectorAll(".menu-content input");a.forEach(i=>{i.setAttribute("tabindex","-1")}),s.forEach(i=>{i.setAttribute("tabindex","-1")}),l.forEach(i=>{i.setAttribute("tabindex","-1")}),e.forEach(i=>{i.addEventListener("click",t=>{t.target.nextElementSibling.classList.contains("active-menu")?(a.forEach(n=>{n.setAttribute("tabindex","-1")}),s.forEach(n=>{n.setAttribute("tabindex","-1")}),l.forEach(n=>{n.setAttribute("tabindex","-1")}),t.target.nextElementSibling.classList.remove("active-menu"),t.target.nextElementSibling.setAttribute("aria-hidden","true"),t.target.textContent="Meny",t.target.setAttribute("aria-expanded","false")):(a.forEach(n=>{n.removeAttribute("tabindex")}),s.forEach(n=>{n.removeAttribute("tabindex")}),l.forEach(n=>{n.removeAttribute("tabindex")}),t.target.nextElementSibling.classList.add("active-menu"),t.target.nextElementSibling.removeAttribute("aria-hidden"),t.target.nextElementSibling.removeAttribute("tabindex"),t.target.textContent="Lukk",t.target.setAttribute("aria-expanded","true"))})}),document.querySelectorAll(".global-submenu-btn").forEach(i=>{i.addEventListener("click",t=>{t.target.nextElementSibling.classList.contains("active-submenu")?(t.target.nextElementSibling.classList.remove("active-submenu"),t.target.setAttribute("aria-expanded","false")):(t.target.nextElementSibling.classList.add("active-submenu"),t.target.setAttribute("aria-expanded","true"))})})});var u=e=>{e.target.parentNode.childNodes.forEach(a=>{a.className==="clear"&&(a.style.visibility="visible")}),e.target.removeEventListener("input",u)},A=e=>{e.target.parentNode.childNodes.forEach(a=>{a.className==="searchInput"&&(a.value="",a.addEventListener("input",u))}),e.target.style.visibility="hidden"},d=class extends HTMLElement{connectedCallback(){this.created||(this.querySelector(".clear").addEventListener("click",A),this.querySelector(".searchInput").addEventListener("input",u),this.created=!0)}};customElements&&customElements.define&&customElements.define("amedia-searchbox-na",d);
//# sourceMappingURL=nettavisen-header.js.map
