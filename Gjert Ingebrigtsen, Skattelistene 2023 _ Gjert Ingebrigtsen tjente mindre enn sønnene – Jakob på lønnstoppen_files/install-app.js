var l=Object.defineProperty;var a=(e,t)=>l(e,"name",{value:t,configurable:!0});import{BrickButton as r}from"https://assets.acdn.no/pkg/@amedia/brick-button/v6/brick-button.js";var p=6048e5;function c(){let e=navigator.userAgent,t=e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1,s=e.indexOf("iPhone")>-1||e.indexOf("Android")>-1,i=window.localStorage.getItem("app-install-close");return i&&Date.now()-i>p?(window.localStorage.removeItem("app-install-close"),t&&s):t&&s&&!i}a(c,"showButtons");var n=class n extends HTMLElement{constructor(){super(),this.addEventListener("closeInstallApp",t=>this.hide(t),!1),this.newspaperColor=window.getComputedStyle(document.documentElement).getPropertyValue("--newspaper-color")}link(){return navigator.userAgent.indexOf("iPhone")>-1?"https://apps.apple.com/app/".concat(this.iosAppId):"https://play.google.com/store/apps/details?id=".concat(this.androidAppId)}hide(t){t.target.getAttribute("data-custom-on-click")==="closeInstallApp"&&(this.querySelector(".install-app-wrapper").classList.add("hide"),window.localStorage.setItem("app-install-close","".concat(Date.now())))}connectedCallback(){if(this.iosAppId=this.getAttribute("iosAppId"),this.androidAppId=this.getAttribute("androidAppId"),this.label=this.getAttribute("label")||"Last ned app",c()||this.hasAttribute("test")){this.innerHTML=this.template;let s=document.querySelector("[data-version=primary]");s&&s.classList.add("lp_install_button");let i=document.querySelector("[data-version=secondary]");i&&i.classList.add("lp_close_button")}}get template(){return'<div class="install-app-wrapper lp_install_app adp-inscreen" data-adp-inscreen-name="install-app">\n    <brick-button data-bgcolor="'.concat(this.newspaperColor,'" data-label="').concat(this.label,'" data-version="primary" data-linkto="').concat(this.link(),'"></brick-button>\n    <brick-button data-custom-on-click="closeInstallApp" data-label="Lukk" data-version="secondary" class="lp_install_app_close"></brick-button>\n    </div>')}};a(n,"AmediaInstallApp");var o=n;customElements.get("amedia-install-app")||customElements.define("amedia-install-app",o);customElements.get("brick-button")||customElements.define("brick-button",r);
//# sourceMappingURL=install-app.js.map
